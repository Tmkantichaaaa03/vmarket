<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add New Product</title>
    <link rel="stylesheet" href="../seller_panel/css/add_product.css">

    <style>
        textarea { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .form-group { margin-bottom: 15px; }
    </style>
</head>
<body>
    <nav class="top-menu pixel-text">
        <div class="logo">SELLER PANEL</div>
        <ul>
            <li><a href="dashboard.html" class="active">จัดการสินค้า</a></li>
            <li><a href="orders.html">จัดการคำสั่งซื้อ</a></li>
            <li><a href="#" onclick="logout()" class="logout">ออกจากระบบ</a></li>
        </ul>
    </nav>

    <div class="content">
    <div class="container add-product" style="width: 520px;">

        <h2 class="pixel-title">เพิ่มสินค้าใหม่</h2>
        <p class="shop-name">
            ร้านค้า: <strong id="shopNameDisplay"></strong>
        </p>

        <form id="addProductForm">

            <div class="form-group">
                <label>ชื่อสินค้า</label>
                <input type="text" id="productName" required>
            </div>

            <div class="form-group">
                <label>รายละเอียดสินค้า</label>
                <textarea id="productDescription" rows="4" required></textarea>
            </div>

            <div class="form-group">
                <label>รูปปกสินค้า</label>
                <input type="file" id="coverImage" accept="image/*" required>
            </div>

            <div class="form-group">
                <label>รูปสินค้าเพิ่มเติม (สำหรับ 3D)</label>
                <input type="file" id="detailImages" accept="image/*" multiple required>
            </div>

            <div class="form-group">
                <label>ไฟล์โมเดล 3D (ถ้ามี)</label>
                <input type="file" id="model3DFile" accept=".glb,.gltf">
            </div>

            <div class="form-group">
                <label>ราคา (บาท)</label>
                <input type="number" id="productPrice" min="0" step="0.01" required>
            </div>

            <div class="form-group">
                <label>จำนวนสินค้าในสต๊อก</label>
                <input type="number" id="productStock" min="0" required>
            </div>

            <button type="submit" class="submit-btn">
                ลงขายสินค้า (รอการอนุมัติจากแอดมิน)
            </button>

            <div id="addProductMessage" class="message"></div>
        </form>

        <div class="back-links">
            <a href="dashboard.html">← กลับไปหน้ารายการสินค้า</a>
        </div>

    </div>
</div>

    <script src="js/main.js"></script>
    <script>
        // เมื่อหน้าโหลด ให้เรียกใช้ฟังก์ชันตรวจสอบสิทธิ์และเพิ่ม Logic การส่งฟอร์ม
        window.onload = function() {
            checkAuth();
            displayShopName();
            setupAddProductListener(); // ฟังก์ชันนี้จะถูกเพิ่มใน main.js
        };
    </script>
</body>
</html>